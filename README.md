# mod4Project

## Database Schema Design

./images/databaseSchema

## API Documentation


## USER AUTHENTICATION/AUTHORIZATION

### All endpoints that require authentication

All endpoints that require a current user to be logged in.

* Request: endpoints that require authentication
* Error Response: Require authentication
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Authentication required"
    }
    ```

### All endpoints that require proper authorization

All endpoints that require authentication and the current user does not have the
correct role(s) or permission(s).

* Request: endpoints that require proper authorization
* Error Response: Require proper authorization
  * Status Code: 403
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Forbidden"
    }
    ```

### Get the Current User

Returns the information about the current user that is logged in.

* Require Authentication: true
* Request
  * Method: GET
  * URL: /api/session
  * Body: none

* Successful Response when there is a logged in user
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "user": {
        "id": 1,
        "firstName": "John",
        "lastName": "Smith",
        "email": "john.smith@gmail.com",
        "username": "JohnSmith"
      }
    }
    ```

* Successful Response when there is no logged in user
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "user": null
    }
    ```

### Log In a User

Logs in a current user with valid credentials and returns the current user's
information.

* Require Authentication: false
* Request
  * Method: POST
  * URL: /api/session
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "email": "john.smith@gmail.com",
      "password": "secret password"
    }
    ```

* Successful Response
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "user": {
        "id": 1,
        "firstName": "John",
        "lastName": "Smith",
        "email": "john.smith@gmail.com",
        "username": "JohnSmith"
      }
    }
    ```

* Error Response: Invalid credentials
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Invalid credentials"
    }
    ```

* Error response: Body validation errors
  * Status Code: 400
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Bad Request", // (or "Validation error" if generated by Sequelize),
      "errors": {
        "email": "Email is required",
        "password": "Password is required"
      }
    }
    ```

### Sign Up a User

Creates a new user, logs them in as the current user, and returns the current
user's information.

* Require Authentication: false
* Request
  * Method: POST
  * URL: /api/users
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "firstName": "John",
      "lastName": "Smith",
      "email": "john.smith@gmail.com",
      "username": "JohnSmith",
      "password": "secret password"
    }
    ```

* Successful Response
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "user": {
        "id": 1,
        "firstName": "John",
        "lastName": "Smith",
        "email": "john.smith@gmail.com",
        "username": "JohnSmith"
      }
    }
    ```

* Error response: User already exists with the specified email
  * Status Code: 500
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "User already exists",
      "errors": {
        "email": "User with that email already exists"
      }
    }
    ```

* Error response: User already exists with the specified username
  * Status Code: 500
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "User already exists",
      "errors": {
        "username": "User with that username already exists"
      }
    }
    ```

* Error response: Body validation errors
  * Status Code: 400
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Bad Request", // (or "Validation error" if generated by Sequelize),
      "errors": {
        "email": "Invalid email",
        "firstName": "First Name is required",
        "lastName": "Last Name is required"
      }
    }
    ```
    API Routes, Mecha Chronicles: Iron Soul




User stuff
## Get the Current User

Returns the information about the current user that is logged in.

* Require Authentication: true
* Request
  * Method: GET
  * URL: /api/session
  * Body: none

### Log In a User

Logs in a current user with valid credentials and returns the current user's
information.

* Require Authentication: false
* Request
  * Method: POST
  * URL: /api/session
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "email": "john.smith@gmail.com",
      "password": "secret password"
    }
    ```
### Sign Up a User

Creates a new user, logs them in as the current user, and returns the current
user's information.

Should create basic Mech and assign to new user

* Require Authentication: false
* Request
  * Method: POST
  * URL: /api/users
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "firstName": "John",
      "lastName": "Smith",
      "email": "john.smith@gmail.com",
      "username": "JohnSmith",
      "password": "secret password"
    }
    ```

### Log out User

Method: DELETE

Url: /api/session
* Headers:
    * Content-Type: application/json
  * Body: None

### Get User Inventory

Method
Url: /api/session/inventory
* Headers:
    * Content-Type: application/json
  * Body: None

Faction Stuff ** Do not implement now**
### Create a Faction
Method: POST
Url: /api/faction
* Headers:
    * Content-Type: application/json
  * Body: {}

### Join Faction
### Create a Faction
Method: POST
Url: /api/faction/:factionId
* Headers:
    * Content-Type: application/json
  * Body: None


Shields stuff
### Return all Shield Items (for debug purposes)
Method: GET
Url: /api/shields
* Headers:
    * Content-Type: application/json
  * Body: {}

### Return Shield Item by Id
Method: GET
Url: /api/shields/:shieldId
* Headers:
    * Content-Type: application/json
  * Body: {}

### Create Shield Item

Method: POST
Url: /api/shields
* Headers:
    * Content-Type: application/json
  * Body: {}

### Delete Shield Item

Method: DELETE
Url: /api/shields/:shieldId
* Headers:
    * Content-Type: application/json
  * Body: {}

### Upgrade Item

Method: PUT
Url: /api/shields/:shieldId/upgrade
* Headers:
    * Content-Type: application/json
  * Body: {}

### Edit Item

Method: PUT
Url: /api/shields/:shieldId/
* Headers:
    * Content-Type: application/json
  * Body: {}

### Trade/sell Item
Method: PUT
Url: /api/shields/:shieldId/trade
* Headers:
    * Content-Type: application/json
  * Body: {}

Weapon stuff
### Return all Weapon Items (for debug purposes)
Method: GET
Url: /api/weapon
* Headers:
    * Content-Type: application/json
  * Body: {}

### Return Weapon Item by Id
Method: GET
Url: /api/weapon/:weaponId
* Headers:
    * Content-Type: application/json
  * Body: {}

### Create weapon Item

Method: POST
Url: /api/weapon
* Headers:
    * Content-Type: application/json
  * Body: {}

### Delete Weapon Item

Method: DELETE
Url: /api/weapon/:weaponId
* Headers:
    * Content-Type: application/json
  * Body: {}

### Upgrade Weapon Item

Method: PUT
Url: /api/weapon/:weaponId/upgrade
* Headers:
    * Content-Type: application/json
  * Body: {}

### Edit Weapon Item

Method: PUT
Url: /api/weapon/:weaponId/
* Headers:
    * Content-Type: application/json
  * Body: {}

### Trade/sell Weapon

Method: PUT
Url: /api/weapon/:weaponId/trade
* Headers:
    * Content-Type: application/json
  * Body: {}

Mech stuff

### Display All Mechs

** Should return all mechs owned by User **

Method: GET
Url: /api/mech
* Headers:
    * Content-Type: application/json
  * Body: {}

### Display Mech by Id

Method: GET
Url: /api/mech/:mechId
* Headers:
    * Content-Type: application/json
  * Body: {}

### Create Mech

Method: POST
Url: /api/mech
* Headers:
    * Content-Type: application/json
  * Body: {}

### Edit Mech by Id

Method: PUT
Url: /api/mech/:mechId
* Headers:
    * Content-Type: application/json
  * Body: {}

### Equip Mech part by Id

Method: PUT
Url: /api/mech/:mechId/equip
* Headers:
    * Content-Type: application/json
  * Body: {}

### Equip Mech Shield by Id

Method: PUT
Url: /api/mech/:mechId/equip/shield
* Headers:
    * Content-Type: application/json
  * Body: {}

### Equip Mech Weapon by Id

Method: PUT
Url: /api/mech/:mechId/equip/weapon
* Headers:
    * Content-Type: application/json
  * Body: {}

### Delete Mech by Id

Method: DELETE
Url: /api/mech/:mechId/
* Headers:
    * Content-Type: application/json
  * Body: {}


## IDEAS

## combat
3 actions per turn
-move
  doge
  engage
  disengage
  aim

-weapons
 melee
  swords
  fists
  spears
 mid-range
  guns
  missles
long-range
  lazers
  orbital strikes

  -heat
    wait
    hyperHeat (weapons that consume heat to work)
    heat does DOT

 - Flee

 You get 3 actions, CPU gets 3 actions
 the actions get resolved based on speed.
 (player action array
  CPU action array
  combined in order = Actions array)

 ## Post Battle
  pilot exp
  money
  -- level up?

  next screen

  damage report
  -show part damage
  -show repair cost

  can click on each part to show details and repair indivudaly

  last screen

  show total money
  show mech status
  which screen you want next?
  -- shop
  -- hanger
  -- battle
  -- exit game

## parts

Parts have: {
  health
  armor
  weight
  cost
  sell value (full health = full value / same true for buying)

  arms{
    melee
    ballistic
    lazer
    missle
  }

  legs{
    speed
  }

  shoulders{
    can have shields
    -ballistic
    -energy
    -missle
  }

  head{
    targeting
    -long range target speed
    -mid range target speed
    -close range target speed
  }
}
head
body
l arm
l shoulder
r arm
r shoulder
l leg
r leg

## shop
deal of day (black market)
each part
